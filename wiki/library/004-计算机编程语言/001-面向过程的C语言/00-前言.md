# 总章
>当前版本：v1.0  
>维护人：Jhin  
>维护时间：2017年11月30日

## 什么是c语言
C是一种通用的编程语言，广泛用于系统软件与应用软件的开发。于1969年至1973年间，为了移植与开发UNIX操作系统，由丹尼斯·里奇与肯·汤普逊，以B语言（已弃用）为基础，在贝尔实验室设计、开发出来。  
C语言具有高效、灵活、功能丰富、表达力强和较高的可移植性等特点，在程序员中备受青睐，成为最近25年使用最为广泛的编程语言。目前，C语言编译器普遍存在于各种不同的操作系统中，例如Microsoft Windows, Mac OS X, Linux, Unix等。C语言的设计影响了众多后来的编程语言，例如C++、Objective-C、Java、C#等。

二十世纪八十年代，为了避免各开发厂商用的C语言语法产生差异，由美国国家标准局为C语言订定了一套完整的国际标准语法，称为ANSI C，作为C语言的标准。二十世纪八十年代至今的有关程序开发工具，一般都支持匹配ANSI C的语法。  
## 现在c语言的标准
c语言由于历史悠久，其标准经过多次修订。
### K&R C
1978年，丹尼斯·里奇和布莱恩·柯林汉合作出版了《C程序设计语言》的第一版。书中介绍的C语言标准也被C语言程序员称作“K&R C”，第二版的书中也包含了一些ANSI C的标准。K&R C主要介绍了以下特色：
+ 结构（struct）类型
+ 长整数（long int）类型
+ 无符号整数（unsigned int）类型
+ 把运算符=+和=-改为+=和-=。因为=+和=-会使得编译器不知道用户要处理i = -10还是i =- 10，使得处理上产生混淆。

即使在后来ANSI C标准被提出的许多年后，K&R C仍然是许多编译器的最低标准要求，许多老旧的编译仍然运行K&R C的标准。
### C89
1989年，C语言被美国国家标准协会（ANSI）标准化，编号为ANSI X3.159-1989。这个版本又称为C89。标准化的一个目的是扩展K&R C，增加了一些新特性。
+ void 函数
+ 函数返回 struct 或 union 类型
+ void * 数据类型
### C90
1990年，国际标准化组织（ISO）成立 ISO/IEC JTC1/SC22/WG14 工作组，来规定国际标准的C语言，通过对ANSI标准的少量修改，最终制定了 ISO 9899:1990，又称为C90。随后，ANSI亦接受国际标准C，并不再发展新的C标准。
K&R C语言到ANSI/ISO标准C语言的改进包括：
+ 增加了真正的标准库
+ 新的预处理命令与特性
+ 函数原型允许在函数申明中指定参数类型
+ 一些新的关键字，包括 const、volatile 与 signed
+ 宽字符、宽字符串与多字节字符
+ 对约定规则、声明和类型检查的许多小改动与澄清

WG14工作小组之后又于1994年，对1985年颁布的标准做了两处技术修订（缺陷修复）和一个补充（扩展）。下面是 1994 年做出的所有修改：
+ 3 个新的标准库头文件 iso646.h、wctype.h 和 wchar.h
+ 几个新的记号与预定义宏，用于对国际化提供更好的支持
+ printf/sprintf 函数一系列新的格式代码
+ 大量的函数和一些类型与常量，用于多字节字符和宽字节字符

### C99
在ANSI的标准确立后，C语言的规范在一段时间内没有大的变动，然而C++在自己的标准化创建过程中继续发展壮大。《标准修正案一》在1994年为C语言创建了一个新标准，但是只修正了一些C89标准中的细节和增加更多更广的国际字符集支持。不过，这个标准引出了1999年ISO 9899:1999的发表。它通常被称为C99。C99被ANSI于2000年3月采用。
在C99中包括的特性有：
+ 增加了对编译器的限制，比如源程序每行要求至少支持到 4095 字节，变量名函数名的要求支持到 63 字节（extern 要求支持到 31）。
+ 增强了预处理功能。例如：
  + 宏支持取可变参数 #define Macro(...) `__VA_ARGS__`
  + 使用宏的时候，允许省略参数，被省略的参数会被扩展成空串。
  + 支持 // 开头的单行注释（这个特性实际上在C89的很多编译器上已经被支持了）
+ 增加了新关键字 restrict, inline, _Complex, _Imaginary, _Bool
  + 支持 long long, long double _Complex, float _Complex 等类型
+ 支持不定长的数组，即数组长度可以在运行时决定，比如利用变量作为数组长度。声明时使用 int a[var] 的形式。不过考虑到效率和实现，不定长数组不能用在全局，或 struct 与 union 里。
+ 变量声明不必放在语句块的开头，for 语句提倡写成 for(int i=0;i<100;++i) 的形式，即i 只在 for 语句块内部有效。
+ 允许采用（type_name）{xx,xx,xx} 类似于 C++ 的构造函数的形式构造匿名的结构体。
+ 初始化结构的时候允许对特定的元素赋值，形式为：
```c
struct test{int a[3]，b;} foo[] =  { [0].a = {1}, [1].a = 2 };
struct test{int a, b, c, d;} foo =  { .a = 1, .c = 3, 4, .b = 5 };
// 3,4 是对 .c,.d 赋值的
```
+ 格式化字符串中，利用 \u 支持 unicode 的字符。
+ 支持 16 进制的浮点数的描述。
+ printf scanf 的格式化串增加了对 long long int 类型的支持。
+ 浮点数的内部数据描述支持了新标准，可以使用 #pragma 编译器指令指定。
+ 除了已有的 `__line__` ``__file__` 以外，增加了 `__func__` 得到当前的函数名。
+ 允许编译器化简非常数的表达式。
+ 修改了 / % 处理负数时的定义，这样可以给出明确的结果，例如在C89中-22 / 7 = -3, -22 % 7 + = -1，也可以-22 / 7= -4, -22 % 7 = 6。 而C99中明确为 -22 / 7 = -3, -22 % 7 = -1，只有一种结果。
+ 取消了函数返回类型默认为 int 的规定。
+ 允许在 struct 的最后定义的数组不指定其长度，写做 ``[](flexible array member)``。
+ const const int i 将被当作 const int i 处理。
+ 增加和修改了一些标准头文件，比如定义 bool 的 <stdbool.h> ，定义一些标准长度的 int 的 <inttypes.h> ，定义复数的 <complex.h> ，定义宽字符的 <wctype.h> ，类似于泛型的数学函数 <tgmath.h>， 浮点数相关的 <fenv.h>。 在<stdarg.h> 增加了 va_copy 用于复制 ... 的参数。<time.h> 里增加了 struct tmx ，对 struct tm 做了扩展。
+ 输入输出对宽字符以及长整数等做了相应的支持。

但是各个公司对C99的支持所表现出来的兴趣不同。当GCC和其它一些商业编译器支持C99的大部分特性的时候，微软和Borland却似乎对此不感兴趣。
### C11
2011年12月8日，ISO正式发布了新的C语言的新标准C11，之前被称为C1X，官方名称为ISO/IEC 9899:2011。
新的标准提高了对C++的兼容性，并增加了一些新的特性。这些新特性包括：
+ 对齐处理(Alignment)的标准化(包括_Alignas标志符，alignof运算符, aligned_alloc函数以及<stdalign.h>头文件。
+ _Noreturn 函数标记，类似于 gcc 的 `__attribute__`((noreturn))。
+ _Generic 关键字。
+ 多线程(Multithreading)支持，包括：
   + _Thread_local存储类型标识符，<threads.h>头文件，里面包含了线程的创建和管理函数。
   + _Atomic类型修饰符和<stdatomic.h>头文件。
+ 增强的Unicode的支持。基于C Unicode技术报告ISO/IEC TR 19769:2004，增强了对Unicode的支持。包括为UTF-16/UTF-32编码增加了char16_t和char32_t数据类型，提供了包含unicode字符串转换函数的头文件<uchar.h>.
+ 删除了 gets() 函数，使用一个新的更安全的函数gets_s()替代。
+ 增加了边界检查函数接口，定义了新的安全的函数，例如 fopen_s()，strcat_s() 等等。
+ 增加了更多浮点处理宏。
+ 匿名结构体/联合体支持。这个在gcc早已存在，C11将其引入标准。
+ 静态断言(Static assertions)，_Static_assert()，在解释 #if 和 #error 之后被处理。
+ 新的 fopen() 模式，(“…x”)。类似 POSIX 中的 O_CREAT|O_EXCL，在文件锁中比较常用。
+ 新增 quick_exit() 函数作为第三种终止程序的方式。当 exit()失败时可以做最少的清理工作。

## 章节引用
+ [c语言--维基百科](https://zh.wikipedia.org/wiki/C%E8%AF%AD%E8%A8%80)

## 历史版本
| 版本号 | 维护人 |维护时间 |维护内容|
| :- | :- | :-| :- |
| v1.0 | [Jhin](https://blog.link-lin.cn) |2017-11-30|创建了本词条|
